<svg viewBox="0 0 1000 1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="startGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#2ecc71;stop-opacity:0.8" />
    </linearGradient>
    <linearGradient id="processGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:0.8" />
    </linearGradient>
    <linearGradient id="decisionGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#e67e22;stop-opacity:0.8" />
    </linearGradient>
    <linearGradient id="endGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:0.8" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="1200" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">
    Forklet - Execution Flow
  </text>
  
  <!-- Start -->
  <ellipse cx="500" cy="80" rx="80" ry="30" fill="url(#startGrad)" filter="url(#shadow)"/>
  <text x="500" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">START</text>
  
  <!-- Input Parsing -->
  <rect x="430" y="130" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Parse Input & Config</text>
  
  <!-- Repository Validation -->
  <rect x="430" y="200" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Validate Repository</text>
  
  <!-- Decision: Repository Exists -->
  <polygon points="500,270 540,290 500,310 460,290" fill="url(#decisionGrad)" filter="url(#shadow)"/>
  <text x="500" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Repo OK?</text>
  
  <!-- Error Path -->
  <rect x="650" y="270" width="120" height="40" rx="5" fill="url(#endGrad)" filter="url(#shadow)"/>
  <text x="710" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Return Error</text>
  
  <!-- Authentication Check -->
  <rect x="430" y="350" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Check Authentication</text>
  
  <!-- Cache Check -->
  <polygon points="500,420 540,440 500,460 460,440" fill="url(#decisionGrad)" filter="url(#shadow)"/>
  <text x="500" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Cache Hit?</text>
  
  <!-- Cache Hit Path -->
  <rect x="650" y="420" width="120" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="710" y="445" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Use Cache</text>
  
  <!-- Fetch Repository Metadata -->
  <rect x="430" y="500" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Fetch Repo Metadata</text>
  
  <!-- Rate Limit Check -->
  <polygon points="500,570 540,590 500,610 460,590" fill="url(#decisionGrad)" filter="url(#shadow)"/>
  <text x="500" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Rate Limit?</text>
  
  <!-- Wait/Retry Path -->
  <rect x="650" y="570" width="120" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="710" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Wait & Retry</text>
  
  <!-- Apply Filters -->
  <rect x="430" y="650" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Apply File Filters</text>
  
  <!-- Download Strategy -->
  <polygon points="500,720 540,740 500,760 460,740" fill="url(#decisionGrad)" filter="url(#shadow)"/>
  <text x="500" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">Strategy?</text>
  
  <!-- Archive Download -->
  <rect x="300" y="800" width="120" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="360" y="825" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Download Archive</text>
  
  <!-- Individual Files -->
  <rect x="580" y="800" width="120" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="640" y="825" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Download Files</text>
  
  <!-- Extract/Process -->
  <rect x="430" y="880" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="905" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Extract & Process</text>
  
  <!-- Verify Integrity -->
  <rect x="430" y="950" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="975" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Verify Integrity</text>
  
  <!-- Update Cache -->
  <rect x="430" y="1020" width="140" height="40" rx="5" fill="url(#processGrad)" filter="url(#shadow)"/>
  <text x="500" y="1045" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Update Cache</text>
  
  <!-- Success End -->
  <ellipse cx="500" cy="1110" rx="80" ry="30" fill="url(#startGrad)" filter="url(#shadow)"/>
  <text x="500" y="1115" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">SUCCESS</text>
  
  <!-- Arrows -->
  <line x1="500" y1="110" x2="500" y2="130" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="170" x2="500" y2="200" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="240" x2="500" y2="270" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="540" y1="290" x2="650" y2="290" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="595" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#e74c3c">NO</text>
  <line x1="500" y1="310" x2="500" y2="350" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="485" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#27ae60">YES</text>
  <line x1="500" y1="390" x2="500" y2="420" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="540" y1="440" x2="650" y2="440" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="595" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#27ae60">YES</text>
  <line x1="710" y1="460" x2="710" y2="880" stroke="#2c3e50" stroke-width="2"/>
  <line x1="710" y1="880" x2="570" y2="880" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="460" x2="500" y2="500" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="485" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#e74c3c">NO</text>
  <line x1="500" y1="540" x2="500" y2="570" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="540" y1="590" x2="650" y2="590" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="595" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#e74c3c">YES</text>
  <line x1="710" y1="570" x2="710" y2="520" stroke="#2c3e50" stroke-width="2"/>
  <line x1="710" y1="520" x2="570" y2="520" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="610" x2="500" y2="650" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="485" y="630" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#27ae60">NO</text>
  <line x1="500" y1="690" x2="500" y2="720" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="480" y1="740" x2="380" y2="780" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="430" y="760" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#3498db">Archive</text>
  <line x1="520" y1="740" x2="620" y2="780" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="570" y="760" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#3498db">Individual</text>
  <line x1="360" y1="840" x2="430" y2="880" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="640" y1="840" x2="570" y2="880" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="920" x2="500" y2="950" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="990" x2="500" y2="1020" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="500" y1="1060" x2="500" y2="1080" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Progress Tracking Side Process -->
  <rect x="50" y="650" width="120" height="300" rx="5" fill="rgba(155, 89, 182, 0.2)" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="110" y="670" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#9b59b6">Progress Tracking</text>
  <text x="110" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9b59b6">• Real-time updates</text>
  <text x="110" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9b59b6">• ETA calculation</text>
  <text x="110" y="720" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9b59b6">• Speed monitoring</text>
  <text x="110" y="735" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#9b59b6">• Error reporting</text>
  
  <!-- Error Handling Side Process -->
  <rect x="820" y="650" width="120" height="300" rx="5" fill="rgba(231, 76, 60, 0.2)" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="880" y="670" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#e74c3c">Error Handling</text>
  <text x="880" y="690" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#e74c3c">• Retry logic</text>
  <text x="880" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#e74c3c">• Fallback strategies</text>
  <text x="880" y="720" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#e74c3c">• Graceful degradation</text>
  <text x="880" y="735" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#e74c3c">• Cleanup on failure</text>